\chapter{Аналитический раздел}

В аналитическом разделе будут рассмотрены существующие СУБД и методы хранения изображений.

\section{Формализация задачи}

В соответствии с техническим заданием необходимо разработать приложение для идентификации пользователей при осуществлении контрольно-пропускного режима с использованием документов, удостоверяющих личность.
Необходимо реализовать промежуточный слой бизнес-логики для взаимодействия с базой данных, а также графический интерфейс, обеспечивающий возможность авторизации и регистрации пользователя, поиска информации о человеке (людях) по следующим заданным параметрам:
\begin{enumerate}
	\item номер документа, удостоверяющего личность;
	\item фамилия;
	\item номер КПП.
\end{enumerate}
Также по результатам поиска должна предоставляться возможность просмотреть фотографию любого найденного человека с целью дальнейшей идентификации с минимальным временем ожидания.

\section{Описание предметной области}

Информационная система~-- совокупность определенным образом организованных данных (база данных~-- БД) и комплекса аппаратно-программных средств хранения и манипулирования данными (система управления~-- СУ).
База данных~-- основа информационной системы, выступающая в роли хранилища данных, которой необходимо управлять при помощи СУБД~\cite{baseDB}.

Исходя из потребности в манипуляции более сложными объектами (изображениями), а не только набором некоторых простых символьных или текстовых данных, необходимо рассмотреть классификацию СУБД по модели данных~\cite{highloadApps}:
\begin{enumerate}
	\item реляционные;
	\item нереляционные («NoSQL»).
\end{enumerate}

\section{Реляционные базы данных}

Основоположником теории реляционных баз данных является британский ученый Эдгар Кодд, который в 1970 году опубликовал первую работу по реляционной модели данных.
Реляционная база данных~-- это множество взаимосвязанных именованных отношений («таблиц»).
Отношение~-- это информационная модель реального объекта («сущности») предметной области, формально представленная множеством однотипных кортежей.
Кортеж отношения представляет экземпляр моделируемого объекта, свойства которого определяются значениями соответствующих атрибутов («полей») кортежа~\cite{baseDB}.

По мере значительного повышения мощности компьютеров и соединения их в сети цели их использования стали все более разнообразными.
Применение реляционных БД распространилось на широкое множество сценариев далеко за пределами первоначальной обработки коммерческих данных.
Работа большей части Интернета до сих пор обеспечивается реляционными БД: онлайн-публикации, дискуссионные форумы, социальные сети, интернет-магазины, игры, предоставляемые как сервис, офисные приложения и многое другое~\cite{highloadApps}.

Далее будут рассмотрены некоторые из основных реляционных баз данных~\cite{popularDB}:
\begin{enumerate}
	\item PostgreSQL;
	\item Oracle Database;
	\item MySQL.
\end{enumerate}

\subsection{PostgreSQL}

PostgreSQL~-- это мощная объектно-реляционная система баз данных с открытым исходным кодом, которая использует и расширяет язык SQL в сочетании со множеством функций, позволяющих безопасно хранить и масштабировать самые сложные рабочие нагрузки с данными.
Истоки PostgreSQL восходят к 1986 году как части проекта Калифорнийского университета в Беркли, и более 35 лет ведется активная разработка на базовой платформе~\cite{postgresql}.

Основными преимуществами СУБД PostgreSQL являются~\cite{cmpSCDB1, cmpSCDB2, cmpSCDB3}:
\begin{enumerate}
	\item открытый исходный код и максимальное соответствие со стандартами SQL;
	\item большое количество сторонних инструментов и библиотек;
	\item соответствие требованиям ACID;
	\item стабильность работы в условиях большого количества записей и сложных запросов.
\end{enumerate}

\subsection{Oracle Database}

Oracle Database~-- флагманский продукт компании Oracle.
Это популярная система управления базами данных и хранения данных, используемая организациями по всему миру для управления своими данными и их хранения.
Организации используют Oracle Database в различных отраслях, включая обслуживание конфиденциальных хранилищ данных и отслеживание крупных финансовых транзакций в режиме реального времени.

Основными преимуществами СУБД Oracle Database являются~\cite{cmpSCDB5}:
\begin{enumerate}
	\item многоверсионность данных для управления параллельными транзакциями;
	\item надежность;
	\item автоматический мониторинг и диагностика баз для выявления проблем производительности и возможность автоматической корректировки.
\end{enumerate}

\subsection{MySQL}

MySQL~-- самая популярная в мире база данных с открытым исходным кодом.
MySQL поддерживает многие наиболее популярные приложения, включая Netflix, Uber, Airbnb, Shopify и др.
Поскольку MySQL имеет открытый исходный код, она включает в себя множество функций, разработанных в тесном сотрудничестве с пользователями на протяжении более чем 25 лет.
Таким образом, большая часть языков программирования поддерживаются базой данных MySQL~\cite{mysql}.

Основными преимуществами СУБД MySQL являются~\cite{cmpSCDB1, cmpSCDB2, cmpSCDB3}:
\begin{enumerate}
	\item открытый исходный код;
	\item низкий порог входа;
	\item удобство использования в случае простых приложений и запросов.
\end{enumerate}

\section*{Вывод}

% TODO: Таблица сравнительная
В качестве основной СУБД для хранения была выбрана PostgreSQL в силу следующих причин~\cite{cmpSCDB4}:
\begin{enumerate}
	\item реализуемое приложение должно обладать высокой надежностью и целостностью данных (необходимо соответствие ACID);
	\item PostgreSQL обладает большей скоростью выборки, добавления и сортировки.
\end{enumerate}

\section{Нереляционные базы данных}

Термин «NoSQL» был впервые применен в 1998 году Карло Строцци в качестве названия для его небольшой реляционной СУБД, которая не использовала язык SQL для манипулирования данными.
С 2009 года термин «NoSQL» стал использоваться уже для обозначения растущего числа распределенных систем управления данными, которые отказывались от поддержки ACID-транзакций~-- одного из ключевых принципов работы с реляционными базами данных~\cite{nosql}.

Существует несколько основных причин широкого внедрения NoSQL баз данных~\cite{highloadApps}:
\begin{enumerate}
	\item потребность в больших возможностях масштабирования, чем у реляционных БД, включая обработку очень больших наборов данных или очень большую пропускную способность по записи;
	\item специализированные запросные операции, плохо поддерживаемые реляционной моделью;
	\item стремление к более динамичным и выразительным моделям данных.
\end{enumerate}

Обычно NoSQL-системы делят, исходя из модели данных, на следующие основные классы~\cite{nosql}:
\begin{enumerate}
	\item «ключ-значение»;
	\item документные;
	\item cистемы типа Google BigTable.
\end{enumerate}

Необходимо рассмотреть только некоторые основные примеры нереляционных СУБД «ключ-значение» и документных СУБД соответственно, так как в рамках курсового проекта отсутствует потребность в работе с колоночными СУБД~\cite{popularDB}:
\begin{enumerate}
	\item Redis;
	\item MongoDB.
\end{enumerate}

\subsection{Redis}

Redis~-- система управления данными типа «ключ-значение» с открытым исходным кодом, написанная на C и поддерживающая достаточно богатую модель данных.
Значения могут содержать не только строки, но и множества, списки и другие структуры данных.
Redis работает в оперативной памяти, за счёт чего достигается высокая производительность. 
Клиентские библиотеки для работы с Redis доступны для большинства языков программирования, а сама система используется в таких крупных проектах, как Github, StackOverflow и др.

Основными преимуществами СУБД Redis являются~\cite{cmpNosql1}:
\begin{enumerate}
	\item открытый исходный код;
	\item быстрые чтение и запись;
	\item гибкое использование как кеш-систему или брокер сообщений.
\end{enumerate}

\subsection{MongoDB}

MongoDB~-- документная СУБД с открытым исходным кодом, написанная на C++ и разрабатываемая компанией 10gen.
MongoDB обладает достаточно богатой функциональностью и является одной из самых популярных NoSQL-систем на данный момент и позволяет оперировать JSON-документами (хранимыми и передаваемыми в виде BSON~-- более компактного двоичного представления JSON), объединяемыми в коллекции, которые, объединяются в базы данных.
Заранее предопределенной схемы данных нет, то есть документы в одной коллекции могут содержать разные наборы полей~\cite{nosql}.

Основными преимуществами СУБД MongoDB являются~\cite{cmpNosql1}:
\begin{enumerate}
	\item открытый исходный код;
	\item богатый язык запросов c возможностью гибкой выборки;
	\item функциональные и простые в создании индексы;
	\item гибкая сегментация и резервное копирование;
	\item поддержка хранения как на диске, так и в оперативной памяти;
	\item соответствие требованиям ACID.
\end{enumerate}

\section*{Вывод}

В качестве вспомогательной СУБД для хранения изображений была выбрана MongoDB в силу следующих причин~\cite{cmpNosql1}:
\begin{enumerate}
	\item исходя из формализованной задачи, требуется осуществлять гибкую выборку, используя фильтрацию и сложные запросы;
	\item хранение на диске позволит избежать потери данных;
	\item соответствие ACID является необходимым в рамках реализуемого приложения.
\end{enumerate}

% TODO: ER
% TODO: добавить в сравнение хранение бинарных данных
\section{Вывод}

В качестве основной СУБД для хранения была выбрана PostgreSQL, так как структура и связь сущностей четко определены и наиболее грамотно ложаться на реляционную модель данных.

В качестве вспомогательной СУБД для хранения изображений была выбрана MongoDB, так как необходимо с минимальным временем ожидания возвращать пользователю по запросу требуемую графическую информацию, с чем быстрее всего справляется документная СУБД, а не реляционная~\cite{cmpNosqlSCDB}.