\chapter{Технологический раздел}

\section{Выбор средств реализации базы данных и приложения}

Исходя из сравнительной таблицы~\ref{table:compareRelDBs}, в качестве основной СУБД для хранения данных была выбрана PostgreSQL, так как она является бесплатной (в отличие от Oracle Database), а также полностью поддерживает ACID (в отличие от MySQL).

Исходя из сравнительной таблицы~\ref{table:compareNoSQLDBs}, в качестве вспомогательной СУБД для хранения изображений была выбрана MongoDB, так как она предоставляет возможность хранения как на диске, так и в оперативной памяти, полностью поддерживает ACID и расширенную фильтрацию (в отличие от Redis), а также обладает большей эффективностью работы с бинарными данными за счет встроенного инструмента GridFS, позволяющего оптимально взаимодействовать с файлами любых размеров (в отличие от реляционных СУБД)~\cite{cmpNosqlSCDB, cmpStoreBinary, cmpStoreBinary1}.

Приложение предоставляет графический веб-интерфейс и делится на две части: backend и frontend.
Для реализации каждой части приложения были выбраны следующие средства:
\begin{enumerate}
	\item язык программирования для backend части~-- Go~\cite{go};
	\item язык программирования для frontend части~-- Vue.js~\cite{vue}.
	\item СУБД~-- PostgreSQL и MongoDB;
	\item расширение языка SQL~-- PL/pgSQL~\cite{plpg};
	\item фреймворк для взаимодействия с СУБД PostgreSQL~--- pgx~\cite{pgx};
	\item фреймворк для взаимодействия с СУБД MongoDB~--- mongo~\cite{mongogo};
	\item аутентификация на основе JWT-токенов~\cite{jwt}.
\end{enumerate}

\clearpage

\section{Создание таблиц и объектов базы данных}

В листинге~\ref{lst:create.sql} приведены запросы для создания таблиц базы данных с ограничениями целостности.
В листинге~\ref{lst:trigger.sql} приведены запросы для создания триггера базы данных.

\section{Создание ролей базы данных}

В листинге~\ref{lst:guest_role.sql} приведены запросы для создания роли гостя в базе данных.
\includelisting
	{guest_role.sql}
	{Запросы для создания роли гостя в базе данных}

В листинге~\ref{lst:employee_role.sql} приведены запросы для создания роли сотрудника в базе данных.
\includelisting
	{employee_role.sql}
	{Запросы для создания роли сотрудника в базе данных}
	
\clearpage
	
В листинге~\ref{lst:security_employee_role.sql} приведены запросы для создания роли сотрудника СБ в базе данных.
\includelisting
	{security_employee_role.sql}
	{Запросы для создания роли сотрудника СБ в базе данных}
	
В листинге~\ref{lst:admin_role.sql} приведены запросы для создания роли администратора в базе данных.
\includelisting
	{admin_role.sql}
	{Запросы для создания роли администратора в базе данных}
	
\clearpage

\section{Примеры работы приложения}

На рисунках~\ref{img:demo2.png},~\ref{img:demo1.png} представлены примеры регистрации и входа сотрудника на сайте соответственно.
\includeimage
	{demo2.png}
	{f}
	{H}
	{1\textwidth}
	{Пример регистрации сотрудника}
\includeimage
	{demo1.png}
	{f}
	{H}
	{1\textwidth}
	{Пример входа сотрудника}
	
\clearpage

На рисунке~\ref{img:demo3.png} представлен пример заполнения сотрудником информации о себе.
\includeimage
	{demo3.png}
	{f}
	{H}
	{1\textwidth}
	{Пример заполнения сотрудником информации о себе}
	
После создания сотрудником карточки, представитель СБ находит ее в поисковой строке и проверяет корректность, как показано на рисунках~\ref{img:demo5.png},~\ref{img:demo6.png}.
\includeimage
	{demo5.png}
	{f}
	{H}
	{1\textwidth}
	{Пример поиска информации о сотруднике представителем СБ}
\includeimage
	{demo6.png}
	{f}
	{H}
	{1\textwidth}
	{Пример неподтвержденной карточки сотрудника}


Далее, если данные корректны, сотрудник СБ может подтвердить карточку, как показано на рисунке~\ref{img:demo7.png}.
\includeimage
	{demo7.png}
	{f}
	{H}
	{1\textwidth}
	{Пример подтвержденной карточки сотрудника}
	
\clearpage

После подтверждения появляется возможность логировать информацию о деятельности сотрудника на предприятии через КПП (рисунок~\ref{img:demo8.png}).
\includeimage
	{demo8.png}
	{f}
	{H}
	{1\textwidth}
	{Пример логирования информации о деятельности сотрудника}

\section*{Вывод}

В технологическом разделе были выбраны средства реализации базы данных и приложения (в том числе выбор СУБД и средств для хранения изображений) и описаны интерфейсы доступа к базе данных.